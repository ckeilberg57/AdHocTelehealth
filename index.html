<!DOCTYPE html>
<html>
<head>
<title>Create a Session</title>
<link rel="stylesheet" type="text/css" href="./css/style.css">
</head>
<body>





<!-- FORM TEMPLATE --> 

<div class="wrapper">
    <div class="container">
        <form>
            <h1>
                Create a New Video Session
            </h1>
            <div>
                <div class="lineitem">
                    <label>Session Type</label>
					<select name="sessionType" id="sessionType">
						<option value="">- - - - -</option>
						<option value="medconsult">Medical Consultation</option>
					</select>
                </div>
                	<br>
                <div class="lineitem">
                  <label>Session ID</label><br>
					<button class="actionbuttons" type="button" onclick="document.getElementById('randomAlias').value = getRndInteger(1001,999999)">Generate ID</button> 
					<input type="text" id="randomAlias" name="randomAlias" maxlength="7" class="medOption" placeholder="generate a 1-time session ID"required>
                </div>
                	<br>
            </div>
            
        <div class="inv" id="medconsult">
        	<h2>
                Instant Medical Consult
            </h2>
            <div class="lineitem">
                <label>Patient Last Name</label>
				<input type="text" id="patientLname" name="patientLname" maxlength="90" class="medOption" value="" placeholder="" required>
            </div>
            <div>
                <div class="lineitem">
                   <label>Patient ID</label>
					<input type="text" id="patientID" name="patientID" maxlength="90" class="medOption" value="" placeholder="network ID number" required><br>
                </div>
            </div>
             <div class="btns"><br>
                <button id="submit" type="submit" onclick="return results();">Generate Session Info Now</button>
            </div>
        </div>
      <!--  <div class="inv" id="internalchat">
            <h2>
                Instant Agent to Agent Conversation
            </h2>
             <div class="lineitem">
                   <label>Agent ID</label>
					<input type="text" id="agentID" name="agentID" maxlength="90" class="agent2agent" value="-" placeholder="Guest Agent ID" required><br>
                </div>
            <div class="lineitem">
                 <div class="btns"><br>
                <button id="submit" type="button" onclick="agent2agent();">Create Agent to Agent Room</button>
            </div>
            </div> -->
           </div>
           
        </form>
    </div>
</div>

<br><br>

<!-- <h1>Create a New Video Session</h1><br>
	
	 <form>
		<label>Session Type</label>
		<select name="sessionType" id="sessionType">
			<option value="">- - - - -</option>
			<option value="medconsult">Medical Consultation</option>
			<option value="internalchat">Agent to Agent Discussion</option>
		</select><br>

		<label>Session ID</label>
		<button type="button" onclick="document.getElementById('randomAlias').value = getRndInteger(1001,999999)">Generate ID</button> 
		<input type="text" id="randomAlias" name="randomAlias" maxlength="7" value="-" class="medOption" required>
<br>
	<div class="inv" id="medconsult">
		<label>Patient Last Name</label>
		<input type="text" id="patientLname" name="patientLname" maxlength="90" class="medOption" value="-" required><br>

		<label>Patient ID</label>
		<input type="text" id="patientID" name="patientID" maxlength="90" class="medOption" value="-" required><br>
        <button type="button" onclick="document.write('showInput')innerHTML">Create Links</button> 

	</div>
	<div class="inv" id="internalchat">
		<label>Agent ID</label>
		<input type="text" id="agentID" maxlength="90"><br>

		<label>Host PIN </label>
			<button type="button" onclick="document.getElementById('rndmhostpin').value = getRndInteger(1000,99999)">Create Host PIN</button> 
		<input type="text" id="rndmhostpin" maxlength="5" value=""><br>
	
	</div> 

	</form><br> -->

<!--     <div id="formResult">
    

        <p>Patient Link (direct link)</p><a href="https://xmb-hc.pex-gcc.com/webapp/home" target="_blank">https://xmb-hc.pex-gcc.com/webapp/home</a>

        <p>Provider Info (Join Through Genesys)</p><br>
        <span id="providerInfo"></span>

    </div>  -->

   <!--  <button id="submit" type="submit" onclick="return results();">Generate Session Info Now</button> -->

<!-- Inline JS -->


 
<!-- Session Gen -->



<script type="text/javascript">
function getRndInteger(min, max) {
  return Math.floor(Math.random() * (max - min + 1) ) + min;
}
</script> 



<!-- Show+Hide Form Portions -->



<script>
            document
                .getElementById('sessionType')
                .addEventListener('change', function () {
                    'use strict';
                    var vis = document.querySelector('.vis'),   
                        target = document.getElementById(this.value);
                    if (vis !== null) {
                        vis.className = 'inv';
                    }
                    if (target !== null ) {
                        target.className = 'vis';
                    }
            });


window.onload = function() {
  document
  .getElementById('sessionType')
  .addEventListener('change', function() {
    'use strict';
    var vis = document.querySelector('.vis'),
        target = document.getElementById(this.value);
    if (vis !== null) {
      vis.className = 'inv';
    }
    if (target !== null) {
      target.className = 'vis';
    }
  });
  
  // send change event to element to select the first div...
  var event = new Event('change');
   document.getElementById('sessionType').dispatchEvent(event);
}

</script>

<!-- Return Join Information for Patient and Provider Based on Input -->

<script type="text/javascript">
    
function results(){
    var sessionType = document.getElementById('sessionType').value;
    var randomAlias = document.getElementById('randomAlias').value;
    var patientLname = document.getElementById('patientLname').value;
    var patientID = document.getElementById('patientID').value;

    document.write('<html><head><title>Share Your Video Session</title><link rel="stylesheet" type="text/css" href="./css/style.css"></head><body>')
    document.write('<div class="wrapper"><div class="container"><h1>You Just Created a Rapid Consultation</h1>')
    document.write('<div class="resultscontent"><h3>Patient Link (direct link)</h3><a class="resultlink" href="https://xmb-hc.pex-gcc.com/webapp/#/?conference=hcp' + randomAlias +'&name=' + patientLname + '%20' + patientID + '&callType=video&role=guest" target="_blank">https://xmb-hc.pex-gcc.com/webapp/#/?conference=hcp' + randomAlias +'&name=' + patientLname + '%20' + patientID + '&callType=video&role=guest</a><br></div><br><br>')
    document.write('<div class="resultscontent"><h3>Provider Connect Info</h3><p><a class="resultlink" href="https://kforney1205.github.io/pexRTCdemo/index.html" target="blank">https://kforney1205.github.io/pexRTCdemo/index.html</a><br><b>Session ID: </b> mp' + randomAlias + '<br><b>Provider PIN:</b> 2021</p></div></div></div>')
    document.write('</body></html>')

}

</script>


<!-- Return Join Information for Ad-Hoc Agent Session -->

<script type="text/javascript">
    
function agent2agent(){
    var sessionType = document.getElementById('sessionType').value;
    var randomAlias = document.getElementById('randomAlias').value;
    var agentID = document.getElementById('agentID').value;

    document.write('<html><head><title>Share Your Video Session</title><link rel="stylesheet" type="text/css" href="./css/style.css"></head><body>')
    document.write('<div class="wrapper"><div class="container"><h1>Rapid Agent to Agent Room is Created!</h1>')
    document.write('<div class="resultscontent"><h3>Agent Direct Link (Text Message)</h3><a class="resultlink" href="https://xmb-hc.pex-gcc.com/webapp/#/?conference=hcp' + randomAlias + '&name=' + agentID + '&pin=2021&callType=video" target="_blank">https://xmb-hc.pex-gcc.com/webapp/#/?conference=hcp' + randomAlias + '&name=' + agentID +'&pin=2021&callType=video</a><br></div><br><br>')
    document.write('<div class="resultscontent"><h3>Agent Connect Info </h3><p><a class="resultlink" href="https://kforney1205.github.io/pexRTCdemo/index.html" target="blank">https://kforney1205.github.io/pexRTCdemo/index.html</a><br><b>Session ID: </b> mp' + randomAlias + '<br><b>Guest Agent PIN:</b> 2021<br><b>Host Agent PIN:</b>2021</p></div></div></div>')
    document.write('</body></html>')

}

</script>


</body>
</html>








